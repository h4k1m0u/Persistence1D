<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Persistence 1D inc. Reconstruct1D: Reconstruct1D for Persistence1D</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Persistence 1D inc. Reconstruct1D
   &#160;<span id="projectnumber">1.2</span>
   </div>
   <div id="projectbrief">Finding extrema in one dimensional data, filtering them by persistence and reconstructing smooth functions</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Reconstruct1D for Persistence1D </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Reconstruct1D is a class for reconstructing smooth functions based on persistence features in one dimensional data.</p>
<p>Persistent features can be used to reconstruct a C1 or C2 smooth function which is similar to the original data.</p>
<p>The class can be used with Matlab's built-in quadprog solver, but we recommend to use the MOSEK solvers package which is faster.</p>
<p>The class relies on Persistence1D main package and its output format.</p>
<h1><a class="anchor" id="purpose"></a>
Purpose</h1>
<p>The class is used to reconstruct a smooth function which is similar to the input data. The reconstruction process guarantees:</p>
<ul>
<li>Persistent extrema points location and value are preserved.</li>
<li>No new extrema points are created.</li>
<li>The reconstructed function is C1 or C2 smooth, according to the user's choice.</li>
</ul>
<h1><a class="anchor" id="usage"></a>
Using Persistence1D with Matlab</h1>
<p>To reconstruct a smooth function, the algorithm does the following:</p>
<ol type="1">
<li>Use Persistence1d to find features</li>
<li>Choose threshold for surviving features.</li>
<li>Build equality, inequality and monotonicity constraints.</li>
<li>Solve the optimization problems.</li>
</ol>
<p>Interaction with Reconstruct1D can be done in two different ways:</p><ul>
<li>Call Reconstruct1D with a data vector, threshold values and smoothness type. Reconstruct1D will run Persistence1D, filter the result and return a reconstructed data vector. Using this method, reconstructing the function with different parameters will re-run Persistence1D every function call.</li>
<li>Call Persistence1D once, and call Reconstruct1D with filtered results and smoothness to reconstruct a function. The function can be reconstructed many times without re-running Persistence1D.</li>
</ul>
<p>The data about the location of persistent features is being used to create equality and inequality constraints for the entire data domain. The reconstructed function will have biharmonic or triharmonic solution, i.e. C1 or C2 smoothness.</p>
<p>Please check the <a class="el" href="_reconstruct1d__main.html#exm">Examples</a> section and Reconstruct1D\Examples folder.</p>
<h1><a class="anchor" id="mosek"></a>
MOSEK Solvers</h1>
<p>It is highly recommended to install and use MOSEK with this package, as Matlab's quadprog solver is slow. Download MOSEK [<a href="http://www.mosek.com/">http://www.mosek.com/</a>] and install it. It is possible to use it with a free academic license or with a trial license. Your Matlab installation, operating system and MOSEK architecture should all match.</p>
<p>Reconstruct1D includes two files to turn MOSEK on and off, but they might require adjustments based on your system settings.</p>
<p>turn_on_mosek - use this to turn on MOSEK optimizers before calling Reconstruct1d. Adds MOSEK to Matlab's path.</p>
<p>turn_off_mosek - turns off MOSEK solvers, be removing it from Matlab's path.</p>
<p><b> Before first use, open turn_on_mosek.m and turn_off_mosek.m to configure your MOSEK installation path. </b></p>
<h1><a class="anchor" id="exm"></a>
Examples</h1>
<p>Reconstruct1d\examples folder contains:</p><ul>
<li><a class="el" href="_reconstruct1d_basic_example_8m-example.html">Reconstruct1d_basic_example.m</a> - simple example for usage of Reconstruct1D.</li>
<li><a class="el" href="_reconstruct1d_advanced_example_8m-example.html">Reconstruct1d_advanced_example.m</a> - example of slightly more efficient usage of Reconstruct1D.</li>
<li><a class="el" href="_reconstruct1d_data_weights_8m-example.html">Reconstruct1d_data_weights.m</a> - example of data weights affect on reconstruction.</li>
</ul>
<h1><a class="anchor" id="Functions"></a>
Functions</h1>
<h2><a class="anchor" id="inter"></a>
Interface Functions</h2>
<h3>reconstruct1d.m</h3>
<ul>
<li>Main function for reconstruction. Calls Persistence1D, filters the results and reconstructs a smooth functions based on user set parameters.</li>
</ul>
<h3>reconstruct1d_with_persistence_res.m</h3>
<ul>
<li>Secondary function for reconstruction. Allows reconstruction based on Persistence1D results manually generated and filtered by the user.</li>
</ul>
<h3>setup_persistence1d.m</h3>
<ul>
<li>The scripts adds Persistence1D folders to path, and verifies that Persistence1D is compiled for Matlab usage.</li>
</ul>
<h3>turn_off_mosek.m</h3>
<ul>
<li>The script removes MOSEK directory from path. Matlab optimizers will be used from this point on.</li>
<li>The user needs to set the choose the MOSEK installation directory when using the script for the first time.</li>
</ul>
<h3>turn_on_mosek.m</h3>
<ul>
<li>The script adds the MOSEK directory to path, thus overriding Matlab's solvers.</li>
</ul>
<h3>plot_reconstructed_data.m</h3>
<ul>
<li>Creates a plot of the original and reconstructed data, adds title with reconstruction parameters.</li>
</ul>
<h2><a class="anchor" id="internal"></a>
Internal Functions</h2>
<h3>build_equality_constraints.m</h3>
<ul>
<li>For internal use - builds equality constraints matrix and vector for quadprog.</li>
</ul>
<h3>build_inequality_constraints.m</h3>
<ul>
<li>For internal use - builds inequality constraints matrix and vector for quadprog.</li>
</ul>
<h3>build_laplacian.m</h3>
<ul>
<li>For internal use - creates a discrete Laplacian operator matrix for quadprog.s</li>
</ul>
<h3>build_monotonicity_graph.m</h3>
<ul>
<li>For internal use - creates a monotonicity matrix for quadprog. This ensures localization of extrema. </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 20 2020 12:40:37 for Persistence 1D inc. Reconstruct1D by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
